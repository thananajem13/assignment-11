<%- include('./shared/header')%>

  <title>Document</title>
  <link>
  </head>

  <body>
    <%- include('./shared/navbar')%>

      <section class="main p-5">
        <div class="container my-5 p-5">
          <h1>Notes</h1>
          <% if (messageErr?.length) { %>
            <div class="alert alert-danger text-center my-4">
              <%=messageErr[0]%>
            </div>
            <% } %>
              <!-- <h1>Welcome Back Mr: <%=userInfo?.name%> -->
              <!-- </h1> -->
              <a href="/note/DisplayAddNote" class="btn btn-success">Add Note</a>
              <div class="row my-3">
                <% if (notes.length) { %>
                 <% for( let index=0; index < notes.length; index++ ) { %>
                  <div class="col-md-4">
                    <div class="card my-3" style="width: 18rem;">
                      <!-- <object data="https://via.placeholder.com/150/150" type="image/png"> -->
                        <img src="<%= notes[index].notePic %> " class="card-img-top" height="286" alt="notePic">
                      <!-- </object> -->

                      <div class="card-body">
                        <h5 class="card-title">CreatedBy: <%= notes[index].createdBy?.name %>
                        </h5>
                        <p class="card-text">
                          <%= notes[index].noteBody %>
                        </p>
                        <a href="/note/delete/<%= notes[index]._id %>" onclick="return confirm('Are you sure?')" class="btn btn-danger">delete</a>
                        <a href="/note/DisplayAddNote/<%= notes[index]._id %>" class="btn btn-primary">update</a>
                      </div>
                    </div>
                  </div>
                  <% } %>
                <% }   else { %>
                  <div class="w-50 alert alert-danger mt-4 text-center m-auto">No notes found</div>
                 <%}%>
                


              </div>


        </div>
      </section>

      <% if (numberOfPages>0 && applyPaginate) { %>
        <nav aria-label="...">
          <ul class="pagination pagination-sm d-flex justify-content-center">
            <!-- <li class="page-item active" aria-current="page">
              <span class="page-link">1</span>
            </li> -->
            <li class="page-item">
              <a class="page-link" href="/note/getNotes/1/10">
                1
              </a>
            </li>
            <% for( let index=2; index <=numberOfPages; index++ ) { %>
              <li class="page-item"><a class="page-link" href="/note/getNotes/<%=index%>/10">
                  <%= index %>
                </a></li>
              <% } %>


          </ul>
        </nav>
        <% } %>

          <%- include('./shared/footer')%>